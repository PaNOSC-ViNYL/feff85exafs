
# Content of the POT folder

This directory contains various routines to calculate 
self-consistent potentials.

Also here is the code for a stand-alone library combining the features
of POT and XSPH, that is to take input data and write out the phase
information needed for EXAFS to a `phase.pad` file.  The Fortran entry
point to this is contained in `libpotpht.f` and gets compiled along
with *all* of it dependencies to `libpotph.so`.  The C wrapper around
`libpotph.so` is `libphases.c`, with header file `libphases.h`.  This
gets compiled to `libphases.so`.

Most routines in this directory are covered by the [LICENSE](../HEADERS/license.h)

The [JSON parser](https://bitbucket.org/yarosla/nxjson) contained in
`nxjson.c` and `nxjson.h` is Copyright (c) 2013 Yaroslav Stavnichiy
and released under
[LGPL v3](http://opensource.org/licenses/lgpl-3.0.html).

The C wrapper around POT and XSPH is released to the public domain.

# Build and install

To build, type `scons`.  This will build:

 * `libfeffint.f`: most of the functionality of POT, as a static library
 * `pot`: the stand-alone program
 * `libpotph.so`: the Fortran entry point for generating the phases file
 * `libphases.so`: the C wrapper around libpotph

Once built, type `scons install` to install everything:

 * `libpotph.so`, `libphases.so`: installed to `/usr/local/lib`
 * `pot`: installed to `/usr/local/bin`
 * `feffphases.h`: installed to `/usr/local/include`

You **must** install before building the Perl or Python wrappers.
Other wrappers almost certainly require at least that `libphases.so`
be installed.


# Simple static analysis

To make HTML files explaining data I/O for each fortran source file, do

	../src> ftnchek -mkhtml *.f

# Call graph

![call graph for the POT folder](tree/pot.png)


# The libpotph.json file

Generated by rdinp...

Presumably it exists or the information is obtained from an interface...
