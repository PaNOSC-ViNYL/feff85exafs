#+TITLE: feff85exafs to do list
#+AUTHOR: Bruce Ravel
#+STARTUP: showall


* The feff85exafs to do list

** feffpath library [10/11]

 1. [X] write header into ~f3ffNNNN.dat~ files
 2. [X] deg --> degen to match larch's _feffdat group
 3. [X] use polarization correctly in feffpath library (fix
    test_materials.py around line 56)
 4. [X] +capture rat and ipot from STRUCT+, accumulate ipot and rat
    wrappers as part of call to add_scatterer, also geom for python wrapper
 5. [X] capture a list of Z numbers so ipots can be readily translated
    to atomic species
 6. [X] capture header information in C struct, propagated into wrappers
 7. [X] check for existance/readability of phase.pad at level of
    feffpath.c
 8. [X] python wrapper / Larch plugin
 9. [X] nose testing for feffpath generated ~f3ffNNNN.dat~ files
 10. [X] SWIG-less perl library /(uses Inline::C)/
 11. [ ] SWIG-less python library /(Matt has started this)/

** big jobs [0/6]

 1. [ ] build on Mac
 2. [ ] make scatteringpath a drop in replacement for feffdat
 3. [ ] nosetests on result of scatteringpath with nnnn=False
 4. [ ] fit with different feff versions -- comparison framework /(begun in Bruce's privat SCFtests git repo)/
 5. [ ] library for encapsolating generation of ~phase.pad~
 6. [ ] capture information about muffin tin radii, norman radii,
    ionization, a lÃ¡ Larch _feffdat's potentials attribute

** build on Windows

 1. f85ut.py needs to be installed into a place where larch will find
    it.  (see ~larch> show _sys.path~, but plugins rather than modules)

 2. need to replace ~bin/f85e~ with something that works on windows.

 3. ~platforms/windows/prep.sh~ needs aliases for running nosetests
    and larch

 4. perl wrapper cannot be linked successfully under Strawberry until
    a version of Strawberry using gcc 4.9 become available.

** compilation issues

 * ~src/PAR/parallel.f~ cannot be copmpiled -- ~mpif.h~ is missing

 * It seems as though the NOHOLE option won't work.  ~rdinp~ allows
   it, but ~src/XSPH/xsph.f~ wants, when ~nohole.eq.2~, some data
   files (see lines 209 to 224) that are nowhere written in f85e

 * In file ~src.EXCH/mpse.f~, ~mpse.f~ did not compile with rank
   mismatches at lines 37 and 57.  Variable ~edens~ is defined as rank
   2 and called as rank 1.  I "fixed" this by adding ",1" to the
   argument of ~edens~.  This does not, in fact, get exercised in
   feff85exafs -- triggering this bit of code was disabled when the
   code base was delivered to us.

 * ~src/EXCH/xcpot~ writes to numbered output, but in places that
   shouldn't get exercised by feff85exafs.
